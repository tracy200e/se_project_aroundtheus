!function(){"use strict";var e={960:function(e,t,n){e.exports=n.p+"df100efc54d4645073d7.jpg"},656:function(e,t,n){e.exports=n.p+"8edfe6cd78e39aafc871.jpg"},822:function(e,t,n){e.exports=n.p+"44e6fede87f55e5327cc.jpg"},328:function(e,t,n){e.exports=n.p+"e463b225f0897d749d63.jpg"},994:function(e,t,n){e.exports=n.p+"70aac30a40409c4dbc71.jpg"},339:function(e,t,n){e.exports=n.p+"2e37fd0c260a298af732.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.b=document.baseURI||self.location.href,function(){const e=[{name:"Lago di Braies",link:new URL(n(656),n.b)},{name:"Vanoise National Park",link:new URL(n(994),n.b)},{name:"Lake Louise",link:new URL(n(822),n.b)},{name:"Latemar",link:new URL(n(328),n.b)},{name:"Bald Mountains",link:new URL(n(960),n.b)},{name:"Yosemite Valley",link:new URL(n(339),n.b)}];function t(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",r),e.removeEventListener("mousedown",i)}function r(e){"Escape"===e.key&&t(document.querySelector(".modal_opened"))}function i(e){e.target===e.currentTarget&&t(e.target)}const o=document.querySelector("#image-modal"),s=o.querySelector(".modal__image"),a=o.querySelector(".modal__name");const c=new class{constructor(e,t){let{items:n,renderer:r}=e;this._renderedItems=n,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._renderedItems.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:e,renderer:e=>{const t=new class{constructor(e,t){this._name=e.name,this._link=e.link,this._cardSelector=t}_setEventListeners(){this._likeButton=this._element.querySelector(".card__like-button"),this._likeButton.addEventListener("click",this._handleLikeIcon),this._element.querySelector(".card__delete-button").addEventListener("click",(()=>this._handleDeleteCard())),this._imageWindow=this._element.querySelector(".card__image"),this._imageWindow.addEventListener("click",(()=>this._handlePreviewPicture(o)))}_handleLikeIcon=()=>{this._likeButton.classList.toggle("card__like-button_active")};_handleDeleteCard(){this._element.remove(),this._element=null}_handlePreviewPicture(e){var t;s.src=this._link,s.alt=this._name,a.textContent=this._name,(t=e).classList.add("modal_opened"),document.addEventListener("keydown",r),t.addEventListener("mousedown",i)}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){this._element=this._getTemplate();const e=this._element.querySelector(".card__image");return e.src=this._link,e.alt=`Photo of ${this._name}`,this._element.querySelector(".card__title").textContent=this._name,this._setEventListeners(),this._element}}(e,"card-element");c.addItem(t.getView())}},"cards__list");c.renderItems(e)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2lEWFksRUFBZWlDLElBQU16QixLQUFLYyxNQUcxQnRCLEVBQWVrQyxJQUFNMUIsS0FBS2EsTUFDMUJwQixFQUFja0MsWUFBYzNCLEtBQUthLE9EckR0QmpDLEVDd0REVyxHRHZEUlYsVUFBVStDLElBQUksZ0JBQ3BCMUQsU0FBU2lELGlCQUFpQixVQUFXbkMsR0FDckNKLEVBQU11QyxpQkFBaUIsWUFBYWxDLEVDc0RwQyxDQUVBNEMsZUFHSSxPQUFPM0QsU0FDRmtCLGNBQWNZLEtBQUtlLGVBQ25CZSxRQUFRMUMsY0FBYyxTQUN0QjJDLFdBQVUsRUFDbkIsQ0FFQUMsVUFHSWhDLEtBQUtrQixTQUFXbEIsS0FBSzZCLGVBR3JCLE1BQU1JLEVBQVlqQyxLQUFLa0IsU0FBUzlCLGNBQWMsZ0JBVzlDLE9BVkE2QyxFQUFVUixJQUFNekIsS0FBS2MsTUFDckJtQixFQUFVUCxJQUFPLFlBQVcxQixLQUFLYSxRQUdmYixLQUFLa0IsU0FBUzlCLGNBQWMsZ0JBQ3BDdUMsWUFBYzNCLEtBQUthLE1BRzdCYixLQUFLZ0IscUJBRUVoQixLQUFLa0IsUUFDaEIsR0N6RXFDWixFSDBCdkIsZ0JHekJOWixFQUFZYSxRQUFRRyxFQUFZc0IsVUFBVSxHSHdCdkMsZUdqQmZ0QyxFQUFZVSxZQUFZN0IsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcmFjdGljdW0vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9wcmFjdGljdW0vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBjb25zdCBFU0NfS0VZQ09ERSA9IDI3O1xuXG4vLyBJbXBvcnQgaW1hZ2VzIGZvciB3ZWJwYWNrIHRvIGFkZCB0aGUgY29ycmVjdCBwYXRocyB0byB0aGUgdmFyaWFibGVzXG5jb25zdCBsYWdvRGlCcmFpZXNJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvbGFnby1kaS1icmFpZXMuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCB2YW5vaXNlTmF0aW9uYWxQYXJrSW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL3Zhbm9pc2UtbmF0aW9uYWwtcGFyay5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IGxha2VMb3Vpc2VJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvbGFrZS1sb3Vpc2UuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBsYXRlbWFySW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2xhdGVtYXIuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBiYWxkTW91bnRhaW5zSW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2JhbGQtbW91bnRhaW5zLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xuY29uc3QgeW9zZW1pdGVWYWxsZXlJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMveW9zZW1pdGUtdmFsbGV5LmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xuXG4vLyBDcmVhdGUgYW4gaW5pdGlhbCBsaXN0IG9mIGNhcmRzXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgICAgICBsaW5rOiBsYWdvRGlCcmFpZXNJbWFnZVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgICAgICBsaW5rOiB2YW5vaXNlTmF0aW9uYWxQYXJrSW1hZ2VcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgICAgICBsaW5rOiBsYWtlTG91aXNlSW1hZ2VcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgICAgIGxpbms6IGxhdGVtYXJJbWFnZVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgICAgIGxpbms6IGJhbGRNb3VudGFpbnNJbWFnZVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgICAgICBsaW5rOiB5b3NlbWl0ZVZhbGxleUltYWdlXG4gICAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdG9ycyA9IHtcbiAgICBjYXJkc0xpc3Q6ICdjYXJkc19fbGlzdCcsXG4gICAgY2FyZFRlbXBsYXRlOiAnY2FyZC1lbGVtZW50Jyxcbn0iLCIvLyBPcGVuIG1vZGFsXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2xvc2VNb2RhbE9uRXNjYXBlKTtcbiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbG9zZU1vZGFsT25SZW1vdGVDbGljaylcbn1cblxuLy8gQ2xvc2UgbW9kYWxcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2xvc2VNb2RhbE9uRXNjYXBlKTtcbiAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbG9zZU1vZGFsT25SZW1vdGVDbGljaylcbn1cblxuLy8gQ2xvc2UgbW9kYWxzIHdoZW4gdXNlcnMgY2xpY2sgb24gdGhlIG92ZXJsYXlcbmZ1bmN0aW9uIGNsb3NlTW9kYWxPbkNsaWNrIChlKSB7XG5cbiAgICAvLyBJZiB0aGUgdGFyZ2V0IGV2ZW50IGlzIHRoZSBvdmVybGF5LCBjbG9zZSB0aGUgY3VycmVudCBtb2RhbFxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsJykpIHtcbiAgICAgICAgY2xvc2VNb2RhbChlLnRhcmdldCk7XG4gICAgfVxufVxuXG4vLyBDbG9zZSBtb2RhbHMgd2hlbiB1c2VycyBwcmVzcyBFc2NcbmZ1bmN0aW9uIGNsb3NlTW9kYWxPbkVzY2FwZShlKSB7XG5cbiAgICAvLyBJZiB0aGUga2V5IGJlaW5nIHByZXNzZWQgaXMgRXNjLCBjbG9zZSBtb2RhbHNcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAvLyBTZWFyY2ggZm9yIGFuIG9wZW5lZCBtb2RhbFxuICAgICAgICBjb25zdCBvcGVuZWRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9vcGVuZWQnKTtcblxuICAgICAgICAvLyBDbG9zZSBpdFxuICAgICAgICBjbG9zZU1vZGFsKG9wZW5lZE1vZGFsKTtcbiAgICB9XG59XG5cbi8vIENsb3NlIG1vZGFscyB3aGVuIHVzZXJzIGNsaWNrIHRoZWlyIG1vdXNlXG5mdW5jdGlvbiBjbG9zZU1vZGFsT25SZW1vdGVDbGljayhlKSB7XG5cbiAgICAvLyBpZiB0aGV5IGFyZSB0aGUgc2FtZSB0aGVuIHdlIHNob3VsZCBjbG9zZSB0aGUgcG9wdXBcbiAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkgeyBcbiAgICAgICAgY2xvc2VNb2RhbChlLnRhcmdldClcbiAgICB9XG59XG5cbmV4cG9ydCB7IG9wZW5Nb2RhbCwgY2xvc2VNb2RhbCwgY2xvc2VNb2RhbE9uQ2xpY2ssIGNsb3NlTW9kYWxPblJlbW90ZUNsaWNrIH07IiwiLy8gSW1wb3J0IGZ1bmN0aW9ucyBmcm9tIHV0aWxzLmpzXG5pbXBvcnQgeyBvcGVuTW9kYWwgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuXG5jb25zdCBpbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlLW1vZGFsJyk7XG5jb25zdCBtb2RhbENhcmRJbWFnZSA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZScpO1xuY29uc3QgbW9kYWxDYXJkTmFtZSA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19uYW1lJyk7XG5cbmNsYXNzIENhcmQge1xuXG4gICAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yKSB7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZGF0YSdzIG5hbWUgYW5kIGxpbmtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcblxuICAgICAgICAvLyBGaW5kIHRoZSBjYXJkIHNlbGVjdG9yXG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB9XG5cblxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdG5lciBmb3IgbGlrZSBidXR0b25cbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVMaWtlSWNvbik7XG5cbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgZGVsZXRlIGJ1dHRvblxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19kZWxldGUtYnV0dG9uJyk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKSk7XG5cbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIGZvciBpbWFnZVxuICAgICAgICB0aGlzLl9pbWFnZVdpbmRvdyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG4gICAgICAgIHRoaXMuX2ltYWdlV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlUHJldmlld1BpY3R1cmUoaW1hZ2VNb2RhbCkpO1xuICAgIH1cblxuICAgIF9oYW5kbGVMaWtlSWNvbiA9ICgpID0+IHtcbiAgICAgICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byBjYXJkJ3MgbGlrZSBidXR0b25cbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnQgZnJvbSB0aGUgRE9NIG9uIGNsaWNrXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaW5rIHRvIHRoZSBET00gZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBfaGFuZGxlUHJldmlld1BpY3R1cmUoaW1hZ2VNb2RhbCkge1xuICAgICAgICAvLyBSZXBsYWNlIHNyYyB3aXRoIGNhcmQgbGlua1xuICAgICAgICBtb2RhbENhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgYWx0IHdpdGggY2FyZCB0aXRsZVxuICAgICAgICBtb2RhbENhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgICAgICBtb2RhbENhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICAvLyBPcGVuIHRoZSBtb2RhbFxuICAgICAgICBvcGVuTW9kYWwoaW1hZ2VNb2RhbCk7XG4gICAgfVxuXG4gICAgX2dldFRlbXBsYXRlKCkge1xuXG4gICAgICAgIC8vIEdldCBjYXJkIHRlbXBsYXRlXG4gICAgICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmNhcmQnKVxuICAgICAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICB9XG5cbiAgICBnZXRWaWV3KCkge1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGNhcmQgdGVtcGxhdGVcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTZXQgdGhlIGltYWdlIGxpbmtcbiAgICAgICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTsgICAgICAgIFxuICAgICAgICBjYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICAgICAgY2FyZEltYWdlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcblxuICAgICAgICAvLyBTZXQgdGhlIGNhcmQgdGl0bGVcbiAgICAgICAgY29uc3QgY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcbiAgICAgICAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICAvLyBTZXQgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkOyIsImltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcbmltcG9ydCB7IG9wZW5Nb2RhbCwgY2xvc2VNb2RhbCwgY2xvc2VNb2RhbE9uQ2xpY2sgfSBmcm9tICcuLi9jb21wb25lbnRzL3V0aWxzJztcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgc2VsZWN0b3JzIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcblxuLy8gSW1wb3J0IGFsbCB0aGUgY2xhc3Nlc1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvcic7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24nO1xuXG4vLyBDcmVhdGUgaW5zdGFuY2VzIG9mIHRoZSBjbGFzc2VzXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgIHtcbiAgICAgICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKGl0ZW0sIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUpO1xuICAgICAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudC5nZXRWaWV3KCkpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgc2VsZWN0b3JzLmNhcmRzTGlzdFxuKTtcblxuLy8gSW5pdGlhbGl6ZSBhbGwgbXkgaW5zdGFuY2VzXG5jYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMpO1xuXG4vLyBBbGwgdGhlIHJlc3QiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yICkge1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgcmVuZGVySXRlbXMoKSB7XG4gICAgICAgIC8vIFJlbmRlcnMgYWxsIGVsZW1lbnRzIG9uIHRoZSBwYWdlXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkSXRlbShlbGVtZW50KXtcbiAgICAgICAgLy8gQWRkcyB0aGUgRE9NIGVsZW1lbnQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgICB9XG59Il0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm8iLCJvYmoiLCJwcm9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicCIsImIiLCJkb2N1bWVudCIsImJhc2VVUkkiLCJzZWxmIiwibG9jYXRpb24iLCJocmVmIiwiaW5pdGlhbENhcmRzIiwibmFtZSIsImxpbmsiLCJVUkwiLCJjbG9zZU1vZGFsIiwibW9kYWwiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2VNb2RhbE9uRXNjYXBlIiwiY2xvc2VNb2RhbE9uUmVtb3RlQ2xpY2siLCJlIiwia2V5IiwicXVlcnlTZWxlY3RvciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJpbWFnZU1vZGFsIiwibW9kYWxDYXJkSW1hZ2UiLCJtb2RhbENhcmROYW1lIiwiY2FyZFNlY3Rpb24iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJ0aGlzIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJmb3JFYWNoIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRTZWxlY3RvciIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJfZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUljb24iLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9pbWFnZVdpbmRvdyIsIl9oYW5kbGVQcmV2aWV3UGljdHVyZSIsInRvZ2dsZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiYWRkIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsImdldFZpZXciLCJjYXJkSW1hZ2UiXSwic291cmNlUm9vdCI6IiJ9